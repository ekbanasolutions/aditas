{% extends 'base.html' %}
{% block title %}Settings {% endblock %}
{% load static %}

{% block content %}
    {% if user_own.is_superuser %}

        <div class="row">
            <div class="col-lg-4 col-sm-6">
                <div class="panel panel-default custom-panel">
                    <div class="panel-heading"><p>Services</p></div>
                    <div class="panel-body">
                        <div class="setting-block">
                            <ul>
                                <li>
                                    <a href="{% url 'install_service' %}" class="srv-icon"><i class="fa fa-wrench"
                                                                                              aria-hidden="true"></i></a>
                                    <a href="{% url 'install_service' %}" class="srv-link">Manage services</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-6">
                <div class="panel panel-default custom-panel">
                    <div class="panel-heading"><p>Users</p></div>
                    <div class="panel-body">
                        <div class="setting-block">
                            <ul>
                                <li>
                                    <a href="{% url 'users_index' %}" class="srv-icon"><i class="fa fa-list-alt"
                                                                                          aria-hidden="true"></i></a>
                                    <a href="{% url 'users_index' %}" class="srv-link">List Users</a>
                                </li>
                                <li>
                                    <a href="{% url 'add_user' %}" class="srv-icon"><i class="fa fa-user"
                                                                                       aria-hidden="true"></i></a>
                                    <a href="{% url 'add_user' %}" class="srv-link">Add users</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-6">
                <div class="panel panel-default custom-panel">
                    <div class="panel-heading"><p>Groups</p></div>
                    <div class="panel-body">
                        <div class="setting-block">
                            <ul>
                                <li>
                                    <a href="{% url 'groups_index' %}" class="srv-icon"><i class="fa fa-list-alt"
                                                                                           aria-hidden="true"></i></a>
                                    <a href="{% url 'groups_index' %}" class="srv-link">list groups</a>
                                </li>
                                <li>
                                    <a href="{% url 'add_group' %}" class="srv-icon"><i class="fa fa-users"
                                                                                        aria-hidden="true"></i></a>
                                    <a href="{% url 'add_group' %}" class="srv-link">Add groups</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-6">
                <div class="panel panel-default custom-panel">
                    <div class="panel-heading"><p>Keys</p></div>
                    <div class="panel-body">
                        <div class="setting-block">
                            <ul>
                                <li>
                                    <a href="{% url 'generate_api_key' %}" class="srv-icon"><i class="fa fa-key"
                                                                                               aria-hidden="true"></i></a>
                                    <a href="{% url 'generate_api_key' %}" class="srv-link">list keys</a>
                                </li>
                                <li>
                                    <form method="post" action="{% url 'generate_api_key' %}">
                                        {% csrf_token %}
                                        <button type="submit" class="srv-icon" id="generate_api"><i
                                                class="fa fa-keyboard-o" aria-hidden="true"></i></button>
                                    </form>
                                    <!--  <a href="#" class="srv-icon"><i class="fa fa-keyboard-o" aria-hidden="true"></i></a> -->
                                    <form method="post" action="{% url 'generate_api_key' %}">
                                        {% csrf_token %}
                                        <button type="submit" class="srv-link" id="generate_api">Generate</button>
                                    </form>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-6">
                <div class="panel panel-default custom-panel">
                    <div class="panel-heading">
                        <p>Configurations</p>
                    </div>
                    <div class="panel-body">
                        <div class="setting-block">
                            <ul>
                                <li>
                                    <a href="{% url 'configuration_add' %}" class="srv-icon"><i class="fa fa-plus"
                                                                                                aria-hidden="true"></i></a>
                                    <a href="{% url 'configuration_add' %}" class="srv-link">Add</a>
                                </li>
                                <li>
                                    <a href="{% url 'configuration_edit' %}" class="srv-icon"><i
                                            class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                                    <a href="{% url 'configuration_edit' %}" class="srv-link">Edit</a>
                                </li>
                                <li>
                                    <a href="#" id="revert_configuration" class="srv-icon"><i class="fa fa-random"
                                                                                              aria-hidden="true"></i></a>
                                    <a href="#" id="revert_configuration" class="srv-link">Revert</a>
                                </li>
                                <li>
                                    <a href="#" id="sync_configuration" class="srv-icon"><i class="fa fa-refresh"
                                                                                            aria-hidden="true"></i></a>
                                    <a href="#" id="sync_configuration" class="srv-link">Sync</a>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-6">
                <div class="panel panel-default custom-panel">
                    <div class="panel-heading"><p>Nodes</p></div>
                    <div class="panel-body">
                        <div class="setting-block">
                            <ul>
                                <li>
                                    <a href="{% url 'unapproved_nodes' %}" class="srv-icon"><i class="fa fa-television"
                                                                                               aria-hidden="true"></i></a>
                                    <a href="{% url 'unapproved_nodes' %}" class="srv-link">Unapproved nodes (<b>
                                        <small class="text-warning">{{ unapproved }}</small>
                                    </b>) </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-sm-6">
                <div class="panel panel-default custom-panel">
                    <div class="panel-heading"><p>Clusters</p></div>
                    <div class="panel-body">
                        <div class="setting-block">
                            <ul>
                                <li>
                                    <a href="{% url 'add_cluster' %}" class="srv-icon"><i class="fa fa-cogs"
                                                                                          aria-hidden="true"></i></a>
                                    <a href="{% url 'add_cluster' %}" class="srv-link">Manage Clusters </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

        </div>






    {% endif %}
{% endblock %}

{% block javascript %}
    <script src="{{ STATIC_URL }}admin/js/sync_configurations.js" type="text/javascript"></script>

    <script>
        $(document).ready(function () {
            $("#sync_configuration").click(function () {
                sync('{{ csrf_token }}', "{% url 'sync_configuration' %}");
            });

            $("#revert_configuration").click(function () {
                revert('{{ csrf_token }}', "{% url 'revert_configuration' %}");
            });

        });
    </script>
{% endblock %}